#include <LiquidCrystal.h>
#include <math.h>
const int ledPin = 13;
const int buttonPin = 25;
const int rs = 12, en = 11, d4 = 5, d5 = 4, d6 = 3, d7 = 2;
const int buzzer = 6;
const int buttonGreen = 7;
const int ledGreen = 30;
const int buttonWhite = 10;
const int ledWhite = 26;
const int buttonRed = 9;
const int ledRed = 32;
const int buttonBlue = 8;
const int ledBlue = 28;

long lightNum;

int level = 1;
long timer;


int buttonState = 0;
int State = 0;
int buttonNew;
int buttonOld = 1;

int greenStatus = digitalRead(buttonGreen);
int whiteStatus = digitalRead(buttonWhite);
int redStatus = digitalRead(buttonRed);
int blueStatus = digitalRead(buttonBlue);

LiquidCrystal lcd(rs, en, d4, d5, d6, d7);


int outOfTime()
{
  if (timer > 9000)
  {
    {

      int level = 0;


      lcd.setCursor(0, 1);
      lcd.print("You Lose");

      tone(buzzer, 100, 1000);
      digitalWrite(ledRed, LOW);
      delay(1000);
      noTone(buzzer);
      delay(5000);
      State = 0;
      return 0;
    }
  }
}
int timerFunction()
{
  long  timer = millis();
  lcd.setCursor(0, 1);
  lcd.print(timer);
  if ((timer == 1000) || (timer == 2000) || (timer == 3000) || (timer == 4000)
      || (timer == 5000) || (timer == 6000) || (timer == 7000) || (timer == 8000) || (timer == 8998))
  {
    tone(buzzer, 500, 50);
  }

}

int greenLight()
{
  digitalWrite(ledGreen, HIGH);
  digitalWrite(ledWhite, LOW);
  digitalWrite(ledRed, LOW);
  digitalWrite(ledBlue, LOW);

  int greenStatus = digitalRead(buttonGreen);
  int whiteStatus = digitalRead(buttonWhite);
  int redStatus = digitalRead(buttonRed);
  int blueStatus = digitalRead(buttonBlue);
  Serial.print("GREEN BUTTON: ");
  Serial.print(greenStatus);
  Serial.println();

  if (greenStatus == 1)
  {
    level = level + 0.1;
    long timer = 0;
    Serial.print(level);
    lcd.setCursor(16, 2);
    lcd.print("level: " && level);

    return level;
    return timer;

  }

  if ((whiteStatus == 1) || (redStatus == 1) || (blueStatus == 1))
  {
    outOfTime();
  }
}

void setup()
{
  pinMode(buttonPin, INPUT);
  pinMode(ledPin, OUTPUT);
  Serial.begin(9600); // Starts the serial communication
  pinMode(buttonGreen, INPUT);
  pinMode(ledGreen, OUTPUT);
  pinMode(buttonWhite, INPUT);
  pinMode(ledWhite, OUTPUT);
  pinMode(buttonRed, INPUT);
  pinMode(ledRed, OUTPUT);
  pinMode(buttonBlue, INPUT);
  pinMode(ledBlue, OUTPUT);

  randomSeed(analogRead(0));

}



void loop()
{
  int greenStatus = digitalRead(buttonGreen);
  int whiteStatus = digitalRead(buttonWhite);
  int redStatus = digitalRead(buttonRed);
  int blueStatus = digitalRead(buttonBlue);


  lightNum = random(1, 5);
  int lightNum = 1;
  Serial.print(lightNum);

  timerFunction();
  greenLight();
  outOfTime();



}
